{"version":3,"sources":["components/PropTypes.js","components/User/User.js","components/Comment/Comment.js","components/CommentList/CommentList.js","components/Post/Post.js","components/PostList/PostList.js","App.js","index.js"],"names":["userShape","PropTypes","shape","id","number","name","string","email","adress","street","suite","city","isRequired","commentShape","body","User","arrayOf","userId","title","user","comments","postId","_ref","address","react_default","a","createElement","className","concat","Comment","comment","components_User_User","CommentList","map","components_Comment_Comment","key","Post","post","components_CommentList_CommentList","PostList","posts","components_Post_Post","URL","App","state","users","hasError","isLoading","isLoaded","getFullPost","postList","userList","commentsList","_objectSpread","find","filter","handleClick","_callee","_ref2","_ref3","postsResponse","usersResponse","commentsResponse","preparedPosts","regenerator_default","wrap","_context","prev","next","_this","setState","Promise","all","fetch","sent","Object","slicedToArray","json","t0","stop","_this$state","this","textOnButton","Fragment","components_PostList_PostList","type","onClick","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"qYAEMA,EAAYC,IAAUC,MAAM,CAChCC,GAAIF,IAAUG,OACdC,KAAMJ,IAAUK,OAChBC,MAAON,IAAUK,OACjBE,OAAQP,IAAUC,MAAM,CACtBO,OAAQR,IAAUK,OAClBI,MAAOT,IAAUK,OACjBK,KAAMV,IAAUK,SACfM,aACFA,WAEGC,EAAeZ,IAAUC,MAAM,CACnCY,KAAMb,IAAUK,OAChBC,MAAON,IAAUK,OACjBD,KAAMJ,IAAUK,SACfM,WCYYG,GDTPd,IAAUC,MAAMF,GAIfC,IAAUe,QACff,IAAUC,MAAM,CACde,OAAQhB,IAAUG,OAClBD,GAAIF,IAAUG,OACdc,MAAOjB,IAAUK,OACjBQ,KAAMb,IAAUK,SACfM,YACHA,WAIIX,IAAUC,MAAM,CACpBiB,KAAMlB,IAAUC,MAAMF,GAAWY,WACjCQ,SAAUnB,IAAUe,QAClBf,IAAUC,MAAMW,GAAcD,YAC9BA,aACDA,WAIOX,IAAUe,QAClBf,IAAUC,MAAM,CACdmB,OAAQpB,IAAUG,OAClBD,GAAIF,IAAUG,OACdC,KAAMJ,IAAUK,OAChBC,MAAON,IAAUK,OACjBQ,KAAMb,IAAUK,SACfM,YACHA,WAIOX,IAAUC,MAAMW,GAAcD,uBCpD5B,SAAAU,GAAA,IAAGjB,EAAHiB,EAAGjB,KAAME,EAATe,EAASf,MAAOgB,EAAhBD,EAAgBC,QAAhB,OACXC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,uBACCrB,GAGHmB,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,wBACCnB,GAGFgB,GACCC,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,2BADF,GAAAE,OAEML,EAAQZ,KAFd,eAAAiB,OAGIL,EAAQd,OAHZ,eAAAmB,OAIIL,EAAQb,WCPHmB,eATC,SAAAP,GAAA,IAAGQ,EAAHR,EAAGQ,QAAH,OACdN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBG,EAAQhB,MAC1CU,EAAAC,EAAAC,cAACK,EAAD,CAAMxB,MAAOuB,EAAQvB,MAAOF,KAAMyB,EAAQzB,UCO/B2B,EAVK,SAAAV,GAAA,IAAGF,EAAHE,EAAGF,SAAH,OAClBI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACXP,EAASa,IAAI,SAAAH,GAAO,OACnBN,EAAAC,EAAAC,cAACQ,EAAD,CAASJ,QAASA,EAASK,IAAKL,EAAQ3B,SCc/BiC,EAfF,SAAAd,GAAc,IAAXe,EAAWf,EAAXe,KACNlB,EAAmBkB,EAAnBlB,KAAMC,EAAaiB,EAAbjB,SAEd,OACEI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcU,EAAKnB,OACjCM,EAAAC,EAAAC,cAAA,WAAMW,EAAKvB,MACXU,EAAAC,EAAAC,cAACK,EAAD,CAAMxB,MAAOY,EAAKZ,MAAOF,KAAMc,EAAKd,KAAMkB,QAASJ,EAAKI,UACxDC,EAAAC,EAAAC,cAACY,EAAD,CAAalB,SAAUA,MCAdmB,SAVE,SAAAjB,GAAA,IAAGkB,EAAHlB,EAAGkB,MAAH,OACfhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZa,EAAMP,IAAI,SAAAI,GAAI,OACbb,EAAAC,EAAAC,cAACe,EAAD,CAAMJ,KAAMA,EAAMF,IAAKE,EAAKlC,6jBCJlC,IAAMuC,EAAM,wCAuFGC,6MApFbC,MAAQ,CACNxB,SAAU,GACVoB,MAAO,GACPK,MAAO,GACPC,UAAU,EACVC,WAAW,EACXC,UAAU,KAGZC,YAAc,SACZC,EAAUC,EAAUC,GADR,OAETF,EAASjB,IAAI,SAAAI,GAAI,OAAAgB,EAAA,GACjBhB,EADiB,CAEpBlB,KAAMgC,EAASG,KAAK,SAAAnC,GAAI,OAAIA,EAAKhB,KAAOkC,EAAKpB,SAC7CG,SAAUgC,EAAaG,OAAO,SAAAzB,GAAO,OAAIA,EAAQT,SAAWgB,EAAKlC,YAGnEqD,iCAAc,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAtB,EAAAK,EAAAzB,EAAA2C,EAAA,OAAAC,EAAAvC,EAAAwC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACZC,EAAKC,SAAS,CAAEvB,WAAW,IADfmB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAMAG,QAAQC,IAAI,CACpBC,MAAK,GAAA7C,OAAIc,EAAJ,UACL+B,MAAK,GAAA7C,OAAIc,EAAJ,UACL+B,MAAK,GAAA7C,OAAIc,EAAJ,eATG,cAAAgB,EAAAQ,EAAAQ,KAAAf,EAAAgB,OAAAC,EAAA,EAAAD,CAAAjB,EAAA,GAKRE,EALQD,EAAA,GAKOE,EALPF,EAAA,GAKsBG,EALtBH,EAAA,GAAAO,EAAAE,KAAA,GAYUR,EAAciB,OAZxB,eAYJrC,EAZI0B,EAAAQ,KAAAR,EAAAE,KAAA,GAaUP,EAAcgB,OAbxB,eAaJhC,EAbIqB,EAAAQ,KAAAR,EAAAE,KAAA,GAcaN,EAAiBe,OAd9B,QAcJzD,EAdI8C,EAAAQ,KAgBJX,EAAgBvB,EACnBP,IAAI,SAAAI,GAAI,OAAAgB,EAAA,GACJhB,EADI,CAEPlB,KAAM0B,EAAMS,KAAK,SAAAnC,GAAI,OAAIA,EAAKhB,KAAOkC,EAAKpB,SAC1CG,SAAUA,EAASmC,OAAO,SAAAzB,GAAO,OAAIA,EAAQT,SAAWgB,EAAKlC,SAGjEkE,EAAKC,SAAS,CACZ9B,MAAOuB,EACPf,UAAU,IAzBFkB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,SA4BVG,EAAKC,SAAS,CACZxB,UAAU,EACVC,WAAW,IA9BH,yBAAAmB,EAAAa,SAAAtB,EAAA,0FAmCL,IAAAuB,EAMHC,KAAKrC,MAJPJ,EAFKwC,EAELxC,MACAQ,EAHKgC,EAGLhC,SACAD,EAJKiC,EAILjC,UACAD,EALKkC,EAKLlC,SAEIoC,EAAgBpC,EAAW,YAAc,OAE/C,OACEtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACZqB,EACCxB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KACE3D,EAAAC,EAAAC,cAAA,mCACAF,EAAAC,EAAAC,cAAC0D,EAAD,CAAU5C,MAAOA,KAGnBhB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KACE3D,EAAAC,EAAAC,cAAA,UACGoB,EAAW,0BAA4B,cAE1CtB,EAAAC,EAAAC,cAAA,UAAQ2D,KAAK,SAASC,QAASL,KAAKzB,aACjCT,EAAY,YAAcmC,YA3EvBK,aCFlBC,IAASC,OAAOjE,EAAAC,EAAAC,cAACgE,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.f1edb8a9.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nconst userShape = PropTypes.shape({\n  id: PropTypes.number,\n  name: PropTypes.string,\n  email: PropTypes.string,\n  adress: PropTypes.shape({\n    street: PropTypes.string,\n    suite: PropTypes.string,\n    city: PropTypes.string,\n  }).isRequired,\n}).isRequired;\n\nconst commentShape = PropTypes.shape({\n  body: PropTypes.string,\n  email: PropTypes.string,\n  name: PropTypes.string,\n}).isRequired;\n\nexport const UserProps = {\n  user: PropTypes.shape(userShape),\n};\n\nexport const PostListProps = {\n  posts: PropTypes.arrayOf(\n    PropTypes.shape({\n      userId: PropTypes.number,\n      id: PropTypes.number,\n      title: PropTypes.string,\n      body: PropTypes.string,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport const PostProps = {\n  post: PropTypes.shape({\n    user: PropTypes.shape(userShape).isRequired,\n    comments: PropTypes.arrayOf(\n      PropTypes.shape(commentShape).isRequired,\n    ).isRequired,\n  }).isRequired,\n};\n\nexport const CommentListProps = {\n  comments: PropTypes.arrayOf(\n    PropTypes.shape({\n      postId: PropTypes.number,\n      id: PropTypes.number,\n      name: PropTypes.string,\n      email: PropTypes.string,\n      body: PropTypes.string,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport const CommentProps = {\n  comment: PropTypes.shape(commentShape).isRequired,\n};\n","import React from 'react';\nimport { UserProps } from '../PropTypes';\nimport './User.css';\n\nconst User = ({ name, email, address }) => (\n  <div className=\"user\">\n    <p>\n      <strong>Name:</strong>\n      {name}\n    </p>\n\n    <p>\n      <strong>Email:</strong>\n      {email}\n    </p>\n\n    {address && (\n      <p>\n        <strong>Address: </strong>\n        {`${address.city},\n        ${address.street},\n        ${address.suite}`}\n      </p>\n    )}\n  </div>\n);\n\nUser.propTypes = UserProps;\n\nexport default User;\n","import React from 'react';\nimport { CommentProps } from '../PropTypes';\nimport './Comment.css';\nimport User from '../User/User';\n\nconst Comment = ({ comment }) => (\n  <li className=\"comment\">\n    <div className=\"comment-content\">{comment.body}</div>\n    <User email={comment.email} name={comment.name} />\n  </li>\n);\n\nComment.propTypes = CommentProps;\n\nexport default Comment;\n","import React from 'react';\nimport { CommentListProps } from '../PropTypes';\nimport './CommentList.css';\nimport Comment from '../Comment/Comment';\n\nconst CommentList = ({ comments }) => (\n  <ul className=\"comment-list\">\n    {comments.map(comment => (\n      <Comment comment={comment} key={comment.id} />\n    ))}\n  </ul>\n);\n\nCommentList.propTypes = CommentListProps;\n\nexport default CommentList;\n","import React from 'react';\nimport { PostProps } from '../PropTypes';\nimport './Post.css';\n\nimport User from '../User/User';\nimport CommentList from '../CommentList/CommentList';\n\nconst Post = ({ post }) => {\n  const { user, comments } = post;\n\n  return (\n    <div className=\"post\">\n      <h1 className=\"post-title\">{post.title}</h1>\n      <div>{post.body}</div>\n      <User email={user.email} name={user.name} address={user.address} />\n      <CommentList comments={comments} />\n    </div>\n  );\n};\n\nPost.propTypes = PostProps;\n\nexport default Post;\n","import React from 'react';\nimport { PostListProps } from '../PropTypes';\nimport Post from '../Post/Post';\nimport './PostList.css';\n\nconst PostList = ({ posts }) => (\n  <div className=\"post-list\">\n    {posts.map(post => (\n      <Post post={post} key={post.id} />\n    ))}\n  </div>\n);\n\nPostList.propTypes = PostListProps;\n\nexport default PostList;\n","import React, { Component } from 'react';\nimport './App.css';\nimport PostList from './components/PostList/PostList';\n\nconst URL = 'https://jsonplaceholder.typicode.com/';\n\nclass App extends Component {\n  state = {\n    comments: [],\n    posts: [],\n    users: [],\n    hasError: false,\n    isLoading: false,\n    isLoaded: false,\n  }\n\n  getFullPost = (\n    postList, userList, commentsList\n  ) => postList.map(post => ({\n    ...post,\n    user: userList.find(user => user.id === post.userId),\n    comments: commentsList.filter(comment => comment.postId === post.id),\n  }));\n\n  handleClick = async() => {\n    this.setState({ isLoading: true });\n\n    try {\n      const [\n        postsResponse, usersResponse, commentsResponse,\n      ] = await Promise.all([\n        fetch(`${URL}posts`),\n        fetch(`${URL}users`),\n        fetch(`${URL}comments`),\n      ]);\n\n      const posts = await postsResponse.json();\n      const users = await usersResponse.json();\n      const comments = await commentsResponse.json(); // to json convert\n\n      const preparedPosts = posts\n        .map(post => ({\n          ...post,\n          user: users.find(user => user.id === post.userId),\n          comments: comments.filter(comment => comment.postId === post.id),\n        }));\n\n      this.setState({\n        posts: preparedPosts,\n        isLoaded: true,\n      });\n    } catch (error) {\n      this.setState({\n        hasError: true,\n        isLoading: false,\n      });\n    }\n  };\n\n  render() {\n    const {\n      posts,\n      isLoaded,\n      isLoading,\n      hasError,\n    } = this.state; \n    const textOnButton = (hasError ? 'Try Again' : 'Load');\n\n    return (\n      <div className=\"App\">\n        {isLoaded ? (\n          <>\n            <h1>Dynamic list of posts</h1>\n            <PostList posts={posts} />\n          </>\n        ) : (\n          <>\n            <h1>\n              {hasError ? 'Error - failed to fetch' : 'Load Posts'}\n            </h1>\n            <button type=\"button\" onClick={this.handleClick}>\n              {isLoading ? 'Loading..' : textOnButton}\n            </button>\n          </>\n        )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}